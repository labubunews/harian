# Aktivéiert Rewrite Engine
RewriteEngine On

# Automatesch Ëmleedung op HTTPS wann et net benotzt gëtt
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# BEGIN WordPress
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
    RewriteBase /
    RewriteRule ^index\.php$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]
</IfModule>
# END WordPress

# ===================== GOOGLEBOT & CRAWLING =====================
# Erlaabt all Bots Zougang zu ALLEN Dossieren
User-agent: *
Allow: /

# Sécherstellen, datt Googlebot Zougang zu all Verzeechnesser huet
<IfModule mod_rewrite.c>
    RewriteCond %{REQUEST_URI} !^/wp-admin [NC] # Ausnam: wp-admin
    RewriteCond %{REQUEST_URI} !^/wp-includes [NC] # Ausnam: wp-includes
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
</IfModule>

# ===================== OPTIMISÉIERUNG VUN DER LAASCHTZÄIT =====================
# Aktivéiert Gzip-Kompressioun fir méi séier Luedezäiten
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript
</IfModule>

# Aktivéiert Cache fir méi séier Zougang
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 year"
</IfModule>

# ===================== SÉCHERHEET =====================
# Blockéiert den Zougang zu sensibelen Dateien
<FilesMatch "\.(htaccess|htpasswd|wp-config.php|index.php)">
    Order allow,deny
    Deny from all
</FilesMatch>

# Sécherstellen, datt all Verzeechnesser fir Googlebot zougänglech sinn
<Directory "/">
    AllowOverride All
    Require all granted
</Directory>

# ===================== ANTI BACKDOOR =====================
# Blockéiert den Upload vu geféierleche Dateien
<FilesMatch "\.(php|phtml|js)$">
    Order allow,deny
    Deny from all
</FilesMatch>
